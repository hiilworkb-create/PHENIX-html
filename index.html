<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Phenix Bot</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f7f7;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .container {
      background: #fff;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 400px;
      text-align: center;
    }

    h2 {
      margin-bottom: 20px;
      font-size: 20px;
      color: #333;
    }

    .form-input, select {
      width: 100%;
      height: 45px;
      padding: 10px 12px;
      font-size: 16px;
      border: 2px solid #ccc;
      border-radius: 10px;
      outline: none;
      margin-bottom: 15px;
      transition: all 0.3s ease;
    }

    .form-input:focus, select:focus {
      border-color: #007bff;
      box-shadow: 0 2px 8px rgba(0,123,255,0.3);
    }

    .valid {
      border-color: green !important;
    }

    .invalid {
      border-color: red !important;
    }

    .btn {
      display: inline-block;
      padding: 10px 20px;
      font-size: 15px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      margin: 5px;
      transition: background 0.3s ease;
    }

    .btn-primary {
      background: #007bff;
      color: #fff;
    }
    .btn-primary:disabled {
      background: #a0c8ff;
      cursor: not-allowed;
    }
    .btn-primary:hover:enabled {
      background: #0056b3;
    }

    .btn-secondary {
      background: #6c757d;
      color: #fff;
    }
    .btn-secondary:hover {
      background: #545b62;
    }

    .checkbox {
      margin: 15px 0;
      text-align: left;
    }

    .example {
      font-size: 13px;
      color: #777;
      margin-top: -10px;
      margin-bottom: 15px;
      text-align: left;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>üìù –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ</h2>

    <input type="text" id="fio" class="form-input" placeholder="–§–ò–û">
    <div class="example">–ü—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á</div>

    <input type="text" id="phone" class="form-input" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω">
    <div class="example">–ü—Ä–∏–º–µ—Ä: +7 999 123-45-67</div>

    <select id="docType" class="form-input">
      <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç</option>
      <option value="passport">–ü–∞—Å–ø–æ—Ä—Ç</option>
      <option value="snils">–°–ù–ò–õ–°</option>
      <option value="inn">–ò–ù–ù</option>
    </select>

    <div id="docInputWrapper"></div>

    <div class="checkbox">
      <label><input type="checkbox" id="captcha"> –Ø –Ω–µ —Ä–æ–±–æ—Ç ü§ñ</label>
    </div>

    <div>
      <button class="btn btn-secondary">‚¨Ö –ù–∞–∑–∞–¥</button>
      <button id="nextBtn" class="btn btn-primary" disabled>‚û° –î–∞–ª–µ–µ</button>
    </div>
  </div>

  <script>
    const fio = document.getElementById('fio');
    const phone = document.getElementById('phone');
    const docType = document.getElementById('docType');
    const docWrapper = document.getElementById('docInputWrapper');
    const captcha = document.getElementById('captcha');
    const nextBtn = document.getElementById('nextBtn');

    let docInput = null;

    // –í–∞–ª–∏–¥–∞—Ü–∏—è –§–ò–û
    fio.addEventListener('input', () => {
      const regex = /^[–ê-–Ø–∞-—è–Å—ë\s]+$/;
      toggleValidation(fio, regex.test(fio.value.trim()));
      validateForm();
    });

    // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
    phone.addEventListener('input', () => {
      const regex = /^\+7\s?\d{3}\s?\d{3}-?\d{2}-?\d{2}$/;
      toggleValidation(phone, regex.test(phone.value.trim()));
      validateForm();
    });

    // –í—ã–±–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞
    docType.addEventListener('change', () => {
      docWrapper.innerHTML = '';
      if (docType.value === 'passport') {
        docWrapper.innerHTML = `
          <input type="text" id="docInput" class="form-input" placeholder="–ü–∞—Å–ø–æ—Ä—Ç">
          <div class="example">–ü—Ä–∏–º–µ—Ä: 1234 567890</div>`;
      } else if (docType.value === 'snils') {
        docWrapper.innerHTML = `
          <input type="text" id="docInput" class="form-input" placeholder="–°–ù–ò–õ–°">
          <div class="example">–ü—Ä–∏–º–µ—Ä: 112-233-445 95</div>`;
      } else if (docType.value === 'inn') {
        docWrapper.innerHTML = `
          <input type="text" id="docInput" class="form-input" placeholder="–ò–ù–ù">
          <div class="example">–ü—Ä–∏–º–µ—Ä: 123456789012</div>`;
      }

      docInput = document.getElementById('docInput');
      if (docInput) {
        docInput.addEventListener('input', validateDoc);
      }
    });

    // –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞
    function validateDoc() {
      let valid = false;
      if (docType.value === 'passport') {
        valid = /^\d{4}\s?\d{6}$/.test(docInput.value.trim());
      } else if (docType.value === 'snils') {
        valid = /^\d{3}-\d{3}-\d{3}\s\d{2}$/.test(docInput.value.trim());
      } else if (docType.value === 'inn') {
        valid = /^\d{12}$/.test(docInput.value.trim());
      }
      toggleValidation(docInput, valid);
      validateForm();
    }

    // –û–±—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
    function validateForm() {
      const fioValid = fio.classList.contains('valid');
      const phoneValid = phone.classList.contains('valid');
      const docValid = docInput && docInput.classList.contains('valid');
      const captchaValid = captcha.checked;

      nextBtn.disabled = !(fioValid && phoneValid && docValid && captchaValid);
    }

    // –ü–æ–¥—Å–≤–µ—Ç–∫–∞
    function toggleValidation(input, isValid) {
      input.classList.remove('valid', 'invalid');
      if (input.value.trim() !== '') {
        input.classList.add(isValid ? 'valid' : 'invalid');
      }
    }

    captcha.addEventListener('change', validateForm);
  </script>
</body>
</html>
