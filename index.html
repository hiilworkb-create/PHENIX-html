<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Phenix Bot</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f7f7;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .container {
      background: #fff;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 420px;
      text-align: center;
    }

    h2 {
      margin-bottom: 25px;
      font-size: 22px;
      color: #222;
    }

    .input-group {
      position: relative;
      margin-bottom: 8px;
    }

    .input-group span {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 18px;
      color: #555;
      pointer-events: none;
    }

    .form-input {
      width: 100%;
      height: 50px;
      padding: 10px 14px 10px 40px; /* –æ—Ç—Å—Ç—É–ø –¥–ª—è –∏–∫–æ–Ω–∫–∏ */
      font-size: 16px;
      border: 2px solid #ccc;
      border-radius: 10px;
      outline: none;
      transition: all 0.3s ease;
      box-sizing: border-box;
    }

    .form-input:focus {
      border-color: #007bff;
      box-shadow: 0 0 6px rgba(0,123,255,0.3);
    }

    .valid {
      border-color: #28a745 !important;
      box-shadow: 0 0 6px rgba(40,167,69,0.5) !important;
    }

    .invalid {
      border-color: #dc3545 !important;
      box-shadow: 0 0 6px rgba(220,53,69,0.5) !important;
    }

    .example {
      font-size: 13px;
      color: #666;
      margin-bottom: 16px;
      text-align: left;
    }

    .actions {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      margin-top: 20px;
    }

    .btn {
      flex: 1;
      height: 50px;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.05s;
    }

    .btn:active {
      transform: translateY(1px);
    }

    .btn-primary {
      background: #007bff;
      color: #fff;
    }
    .btn-primary:disabled {
      background: #b0c4de;
      cursor: not-allowed;
    }

    .btn-secondary {
      background: #6c757d;
      color: #fff;
    }
    .btn-secondary:hover {
      background: #545b62;
    }

    .error {
      color: red;
      font-size: 13px;
      margin-bottom: 10px;
      text-align: left;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>üìù –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ</h2>

    <form id="dataForm">
      <div class="input-group">
        <span>üßë</span>
        <input type="text" class="form-input" id="fio" placeholder="–§–ò–û" required>
      </div>
      <div class="example">–ü—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á</div>
      <div id="fioError" class="error"></div>

      <div class="input-group">
        <span>üìò</span>
        <input type="text" class="form-input" id="passport" placeholder="–ü–∞—Å–ø–æ—Ä—Ç" required maxlength="11">
      </div>
      <div class="example">–ü—Ä–∏–º–µ—Ä: 1234 567890</div>
      <div id="passportError" class="error"></div>

      <div class="input-group">
        <span>üßæ</span>
        <input type="text" class="form-input" id="snils" placeholder="–°–ù–ò–õ–°" required maxlength="14">
      </div>
      <div class="example">–ü—Ä–∏–º–µ—Ä: 112-233-445 95</div>
      <div id="snilsError" class="error"></div>

      <div class="input-group">
        <span>üí≥</span>
        <input type="text" class="form-input" id="inn" placeholder="–ò–ù–ù" required maxlength="12">
      </div>
      <div class="example">–ü—Ä–∏–º–µ—Ä: 123456789012</div>
      <div id="innError" class="error"></div>

      <div class="actions">
        <button type="button" class="btn btn-secondary">‚¨Ö –ù–∞–∑–∞–¥</button>
        <button type="submit" id="nextBtn" class="btn btn-primary" disabled>‚û° –î–∞–ª–µ–µ</button>
      </div>
    </form>
  </div>

  <script>
    const fioField = document.getElementById("fio");
    const passportField = document.getElementById("passport");
    const snilsField = document.getElementById("snils");
    const innField = document.getElementById("inn");
    const nextBtn = document.getElementById("nextBtn");

    function setValidationStyle(field, isValid) {
      field.classList.remove("valid", "invalid");
      if (isValid) field.classList.add("valid");
      else field.classList.add("invalid");
    }

    function validateForm() {
      let valid = true;

      // –§–ò–û
      const fio = fioField.value.trim();
      if (!/^[–ê-–Ø–∞-—è–Å—ë\s]+$/.test(fio)) {
        document.getElementById("fioError").innerText = "–í–≤–µ–¥–∏—Ç–µ –§–ò–û —Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–º–∏ –±—É–∫–≤–∞–º–∏.";
        setValidationStyle(fioField, false);
        valid = false;
      } else {
        document.getElementById("fioError").innerText = "";
        setValidationStyle(fioField, true);
      }

      // –ü–∞—Å–ø–æ—Ä—Ç
      const passport = passportField.value.trim();
      if (!/^\d{4}\s\d{6}$/.test(passport)) {
        document.getElementById("passportError").innerText = "–§–æ—Ä–º–∞—Ç: 1234 567890";
        setValidationStyle(passportField, false);
        valid = false;
      } else {
        document.getElementById("passportError").innerText = "";
        setValidationStyle(passportField, true);
      }

      // –°–ù–ò–õ–°
      const snils = snilsField.value.trim();
      if (!/^\d{3}-\d{3}-\d{3}\s\d{2}$/.test(snils)) {
        document.getElementById("snilsError").innerText = "–§–æ—Ä–º–∞—Ç: 123-456-789 00";
        setValidationStyle(snilsField, false);
        valid = false;
      } else {
        document.getElementById("snilsError").innerText = "";
        setValidationStyle(snilsField, true);
      }

      // –ò–ù–ù
      const inn = innField.value.trim();
      if (!/^\d{12}$/.test(inn)) {
        document.getElementById("innError").innerText = "–ò–ù–ù –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 12 —Ü–∏—Ñ—Ä.";
        setValidationStyle(innField, false);
        valid = false;
      } else {
        document.getElementById("innError").innerText = "";
        setValidationStyle(innField, true);
      }

      nextBtn.disabled = !valid;
    }

    // –ú–∞—Å–∫–∏
    passportField.addEventListener("input", e => {
      let v = e.target.value.replace(/\D/g, "");
      if (v.length > 4) v = v.slice(0,4) + " " + v.slice(4,10);
      e.target.value = v;
      validateForm();
    });

    snilsField.addEventListener("input", e => {
      let v = e.target.value.replace(/\D/g, "");
      if (v.length > 3) v = v.slice(0,3) + "-" + v.slice(3);
      if (v.length > 7) v = v.slice(0,7) + "-" + v.slice(7);
      if (v.length > 11) v = v.slice(0,11) + " " + v.slice(11,13);
      e.target.value = v;
      validateForm();
    });

    innField.addEventListener("input", e => {
      e.target.value = e.target.value.replace(/\D/g, "").slice(0,12);
      validateForm();
    });

    fioField.addEventListener("input", validateForm);

    document.getElementById("dataForm").addEventListener("submit", e => {
      e.preventDefault();
      if (!nextBtn.disabled) alert("‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –≤–≤–µ–¥–µ–Ω—ã!");
    });
  </script>
</body>
</html>
